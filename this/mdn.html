<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>


<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this">mdn对this的简介</a>

<script>

    //*************** 1. 对象方法中的 this
    //类似的，this 的绑定只受最靠近的成员引用的影响。
    //    var o = {
    //        prop: 37,
    //        f: function () {
    //            return this.prop;
    //        }
    //    };
    //
    //    console.log(o.f());


    //等价于
    //    var o = {prop: 37};
    //
    //    function independent() {
    //        return this.prop;
    //    }
    //
    //    o.f = independent;
    //
    //    console.log(o.f()); // logs 37
    //
    //    o.b = {
    //        g: independent,
    //        prop: 42
    //    };
    //
    //    console.log(o.b.g());


    //***********2. 原型链中的this*******************//
    //    var o = {
    //        f: function () {
    //            return this.a + this.b;
    //        }
    //    };
    //
    //    var p = Object.create(o);
    //    p.a = 1;
    //    p.b = 4;
    //
    //    console.log(p.f());


    //************3. getter 与 setter 中的this*******//
    //    function modulus() {
    //        return Math.sqrt(this.re * this.re + this.im * this.im);
    //    }
    //
    //    var o = {
    //        re: 1,
    //        im: -1,
    //        get phase() {
    //            return Math.atan2(this.im, this.re);
    //        }
    //    };
    //
    //    Object.defineProperty(o, 'modulus', {
    //        get: modulus, enumerable: true, configurable: true
    //    });
    //
    //    console.log(o.phase, o.modulus);

    //***********4. 构造函数中的 this *************//


    function C() {
        this.a = 37;
    }

    var o = new C();
    console.log(o.a);

    function C2() {
        this.a = 37;
        return {a: 38};
    }

    o = new C2();
    console.log(o.a);

</script>

</body>
</html>